<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ch√∫c m·ª´ng 20/10 ‚Äî Trang t·∫∑ng</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;width:100%;overflow:hidden;
      font-family:Inter,'Segoe UI',Roboto,Arial,sans-serif;
      background:linear-gradient(180deg,#fff6fb,#fff0f6)}

    .stage{position:relative;height:100vh;width:100vw;display:flex;align-items:center;justify-content:center}

    /* üå∏ Thi·ªáp ch√∫c m·ª´ng 20/10 */
    .greeting-card {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #fff;
      padding: 28px 36px;
      border-radius: 20px;
      box-shadow: 0 6px 20px rgba(255, 120, 180, 0.25);
      text-align: center;
      font-family: 'Inter', sans-serif;
      color: #c23b73;
      font-size: 1.05rem;
      z-index: 80;
    }
    .greeting-card h2 {
      font-size: 1.5rem;
      margin-bottom: 10px;
      color: #e04b87;
      font-weight: 700;
    }

    .overlay{position:fixed;inset:0;background:rgba(12,6,10,0.45);
      display:none;align-items:center;justify-content:center;z-index:90}
    .overlay.show{display:flex}

    .popup{
      position:relative;
      width:min(720px,92vw);
      background:linear-gradient(180deg,#ffffff,#fff7fb);
      border-radius:18px;
      box-shadow:0 20px 60px rgba(128,36,75,0.15);
      padding:20px;display:flex;gap:18px;align-items:center;
      transform:scale(0.9);
      opacity:0;
      transition:all .35s ease;
    }
    .overlay.show .popup{transform:scale(1);opacity:1}

    .popup img{width:180px;height:180px;border-radius:12px;object-fit:cover;flex-shrink:0}
    .popup .text{flex:1}
    .popup h3{margin-bottom:8px;color:#e04b87;font-size:1.15rem}
    .popup p{color:#5b3943;font-size:1rem;line-height:1.4}
    .close-btn{
      position:absolute;top:10px;right:12px;
      background:none;border:none;font-size:1.2rem;
      color:#d15a84;cursor:pointer;
      transition:transform .2s ease;
    }
    .close-btn:hover{transform:scale(1.2)}

    .heart-particle{position:fixed;width:14px;height:14px;border-radius:50%;pointer-events:none;z-index:100}

    .hint{position:fixed;left:50%;transform:translateX(-50%);
      bottom:18px;color:#7b4450;opacity:0.95;font-size:.95rem}

    .gift{position:fixed;top:-90px;
      background-image:url('Code/gift-box.png');
      background-size:contain;background-repeat:no-repeat;
      cursor:pointer;will-change:transform,opacity}

    @media (max-width:520px){
      .popup{flex-direction:column;align-items:center}
      .popup img{width:46vw;height:46vw;border-radius:12px}
    }
  </style>
</head>
<body>
  <div class="stage" aria-hidden="true"></div>

  <!-- üå∏ Thi·ªáp ch√∫c m·ª´ng lu√¥n hi·ªÉn th·ªã -->
  <div class="greeting-card">
    <h2>üéâ Ch√∫c m·ª´ng 20/10 üéâ</h2>
    <p>Ng√†y Ph·ª• n·ªØ Vi·ªát Nam üíê<br>
    Ch√∫c em ng√†y 20/10 th·∫≠t nhi·ªÅu ni·ªÅm vui v√† n·ª• c∆∞·ªùi!</p>
  </div>

  <div class="overlay" id="overlay">
    <div class="popup" id="popup">
      <button class="close-btn" id="closeBtn">‚úñ</button>
      <img id="personImg" src="Code/9512e34b-8e39-466f-8b7c-84313410d46c.jpg" alt="·∫£nh"/>
      <div class="text">
        <h3 id="popupTitle">üéÄ M·ªôt th√¥ng ƒëi·ªáp nho nh·ªè</h3>
        <p id="popupText">Ch√∫c em ng√†y 20/10 th·∫≠t nhi·ªÅu ni·ªÅm vui v√† n·ª• c∆∞·ªùi!</p>
      </div>
    </div>
  </div>

  <div class="hint">Nh·∫•n v√†o h·ªôp qu√† ƒë·ªÉ m·ªü qu√† ‚Äî click ra ngo√†i popup ƒë·ªÉ ƒë√≥ng.</div>

  <!-- üéµ Nh·∫°c n·ªÅn -->
  <audio id="bgMusic" loop>
    <source src="Code/20-10-theme.mp3" type="audio/mpeg">
  </audio>

  <script>
    const messages = [
      'Ch√∫c em 20/10 vui v·∫ª v√† xinh ƒë·∫πp üå∏','C·∫£m ∆°n em v√¨ ƒë√£ lu√¥n ·ªü b√™n anh üíï',
      'Ch√∫c em lu√¥n c∆∞·ªùi th·∫≠t t∆∞∆°i üòò','M·ªói ng√†y b√™n em l√† m√≥n qu√† tuy·ªát v·ªùi üéÅ',
      'Anh th∆∞∆°ng em nhi·ªÅu l·∫Øm ü´∂','Em l√† l√Ω do anh c·ªë g·∫Øng m·ªói ng√†y üí™üíó',
      'Ch√∫c em lu√¥n m·∫°nh m·∫Ω v√† r·∫°ng r·ª° ‚ú®','Mong m·ªçi ƒëi·ªÅu t·ªët ƒë·∫πp nh·∫•t ƒë·∫øn v·ªõi em h√¥m nay v√† m√£i m√£i üåü',
      'Lu√¥n b√™n em ‚Äî d√π n·∫Øng hay m∆∞a ‚òÄÔ∏èüåßÔ∏è','N·ª• c∆∞·ªùi c·ªßa em l√†m anh tan ch·∫£y ü•∞',
      'Y√™u em kh√¥ng c·∫ßn l√Ω do, ch·ªâ c·∫ßn em t·ªìn t·∫°i üíì','Ch√∫c em m·ªôt ng√†y ·∫•m √°p v√† ƒë·∫ßy y√™u th∆∞∆°ng üå∑',
      'Em ƒë√°ng ƒë∆∞·ª£c nh·∫≠n nh·ªØng ƒëi·ªÅu ng·ªçt ng√†o nh·∫•t üç¨','C·∫£m ∆°n v√¨ nh·ªØng k·ª∑ ni·ªám ng·ªçt ng√†o b√™n nhau üíû',
      'H√¥m nay anh ch√∫c em th·∫≠t nhi·ªÅu h·∫°nh ph√∫c v√† n·ª• c∆∞·ªùi üòä'
    ];

    const imgs = [
      'Code/ef839e41-f15f-44ff-94f6-b53abde2dfcd.jpg',
      'Code/2bb2dc41-4011-4100-b474-1bcb9250416b.jpg',
      'Code/31e3ca4c-bfba-4bbd-b0d7-a30167c91dc7.jpg',
      'Code/81312ea8-d2cd-48d8-9407-46559dcee743.jpg',
      'Code/538690a1-fc9c-4c8b-b9bd-577f6551e483.jpg',
      'Code/965593f7-652f-42d9-9476-f72d3a27de91.jpg',
      'Code/b14c8fba-a906-406b-8088-3c57aee62d51.jpg',
    ];

    const overlay=document.getElementById('overlay');
    const popup=document.getElementById('popup');
    const personImg=document.getElementById('personImg');
    const popupText=document.getElementById('popupText');
    const closeBtn=document.getElementById('closeBtn');
    const bgMusic=document.getElementById('bgMusic');

    // üîä Nh·∫°c n·ªÅn
    document.body.addEventListener('click',()=>{
      if(bgMusic.paused){bgMusic.play().catch(()=>{});}
    },{once:true});

    // üéÅ T·∫°o qu√† r∆°i
    function spawnGift(){
      const g=document.createElement('div');
      g.className='gift';
      const size=26+Math.random()*46;
      g.style.width=size+'px';
      g.style.height=size+'px';
      g.style.left=Math.random()*100+'vw';
      const duration=(6+Math.random()*6)*1.1;
      const delay=Math.random()*6;
      const startY=-120-Math.random()*200;
      const endY=window.innerHeight+120;
      g.style.transform=`translateY(${startY}px)`;
      g.style.opacity=(0.7+Math.random()*0.3).toFixed(2);
      document.body.appendChild(g);

      const startTime=performance.now()+delay*1000;
      const durMs=duration*1000;
      function step(now){
        if(now<startTime){requestAnimationFrame(step);return;}
        const t=Math.min((now-startTime)/durMs,1);
        const ease=1-(1-t)*(1-t);
        const y=startY+(endY-startY)*ease;
        const rot=ease*720;
        g.style.transform=`translateY(${y}px) rotate(${rot}deg)`;
        if(t<1){requestAnimationFrame(step);}else{g.remove();}
      }
      requestAnimationFrame(step);

      g.addEventListener('click',e=>{
        e.stopPropagation();
        const msg=messages[Math.floor(Math.random()*messages.length)];
        const im=imgs[Math.floor(Math.random()*imgs.length)];
        personImg.src=im;
        popupText.textContent=msg;
        overlay.classList.add('show');
        spawnHearts(e.clientX,e.clientY);
        g.style.transition='transform 350ms ease, opacity 350ms ease';
        g.style.transform='scale(0.6) translateY(30px) rotate(20deg)';
        g.style.opacity='0.15';
        setTimeout(()=>{g.remove();},400);
      });
    }

    setInterval(()=>{if(document.querySelectorAll('.gift').length<40)spawnGift();},700);
    for(let i=0;i<20;i++)spawnGift();

    overlay.addEventListener('click',e=>{if(e.target===overlay){overlay.classList.remove('show');}});
    closeBtn.addEventListener('click',()=>overlay.classList.remove('show'));
    popup.addEventListener('click',e=>{e.stopPropagation();});

    function spawnHearts(x,y){
      const count=12;
      for(let i=0;i<count;i++){
        const p=document.createElement('div');
        p.className='heart-particle';
        p.style.left=(x+(Math.random()*120-60))+'px';
        p.style.top=(y+(Math.random()*40-20))+'px';
        const s=8+Math.random()*18;
        p.style.width=s+'px';
        p.style.height=s+'px';
        p.style.background=`radial-gradient(circle at 30% 30%, rgba(255,255,255,0.95), rgba(255,255,255,0.1)), hsl(${330+Math.random()*30}deg 70% ${55-Math.random()*10}%)`;
        p.style.borderRadius='4px';
        p.style.opacity='1';
        p.style.transform='translateY(0) scale(0.9) rotate(0deg)';
        p.style.transition='transform 1100ms cubic-bezier(.2,.9,.2,1), opacity 1100ms';
        document.body.appendChild(p);
        setTimeout(()=>{
          const dx=(Math.random()*160-80);
          const dy=-(120+Math.random()*160);
          const rot=(Math.random()*720-360);
          p.style.transform=`translate(${dx}px, ${dy}px) rotate(${rot}deg) scale(1)`;
          p.style.opacity='0';
        },30+Math.random()*80);
        setTimeout(()=>p.remove(),1200+Math.random()*400);
      }
    }
  </script>
</body>
</html>
